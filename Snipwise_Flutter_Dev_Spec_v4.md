
---

## 🖼️ 高清截图功能（High-Resolution Capture）

为了满足用户对截图质量的极高要求，Snipwise 将提供「高清截图模式」，确保用户从高分辨率源图中裁切时不会因屏幕缩放或显示限制导致质量下降。

### 📌 背景说明
普通截图工具通常仅能获取屏幕当前显示分辨率的像素内容，若原图为高分辨率图像，缩放查看后再截图会导致质量损失（例如文字锯齿、模糊边缘）。

---

### ✅ Snipwise 高清截图机制

#### 模式说明：
用户打开图片后，可进入「高清截图」模式，该模式下：

- 使用图像原始像素进行截图裁切；
- 与屏幕 DPI 缩放无关，100% 恢复原始细节；
- 支持用户放大图片视图查看，但实际截取的是源图区域而非当前屏幕像素。

---

#### 📐 操作流程：
1. 用户导入原始图片；
2. 放大查看所需区域（仅视觉缩放）；
3. 切换「高清截图」模式（按钮或菜单项）；
4. 框选截图区域（会记录为图像像素坐标）；
5. 导出结果时根据记录的原图区域进行裁切并导出为 PNG；

---

#### 🧱 技术实现建议（Flutter）：

```dart
// 假设 fullImage 是已加载的原始图像（ui.Image）
final cropped = await fullImage.toByteData(format: ui.ImageByteFormat.rawRgba);
final region = Rect.fromLTWH(x, y, width, height);
// 使用 Image library 或 Canvas 绘图裁切 region 区域导出
```

#### 导出设置：
- 支持设定输出 DPI（默认 300DPI 可用于印刷）
- 支持选择输出格式 PNG / JPG（默认无损 PNG）

---

### 📂 导出用途场景：
- 建筑图纸截图导出高清细节；
- 接口说明图、文字标注保真；
- 打印输出或高分辨率演示材料；

---

## 🧭 配置选项建议（可出现在设置页）：

| 配置项 | 默认值 | 说明 |
|--------|--------|------|
| 高清截图模式开关 | 开 | 控制是否启用原像素截图 |
| 默认 DPI | 300 | 可选 72/150/300/600 等 |
| 默认输出格式 | PNG | 可选 JPG（带质量控制） |

